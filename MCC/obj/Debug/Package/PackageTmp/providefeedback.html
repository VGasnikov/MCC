<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
   
    <title>Provide Feedback</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- additional custom CSS -->
    <link href="css/custom.css" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css">
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

      <!-- Bootstrap core JavaScript
    ================================================== -->
      <!-- Placed at the end of the document so the pages load faster -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
      <script src="/Scripts/bootstrap.min.js"></script>
      <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular.min.js"></script>
  </head>

  <body class="provide-feedback">
    <nav class="navbar navbar-inverse navbar-static-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
                <a class="navbar-brand" href="#"><img src="img/api-logo.png"></a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
              <ul class="nav navbar-nav visible-xs">
                <li><a href="#" class="navlink-dashboard">Dashboard</a></li>
                <li><a href="mytravel.php" class="navlink-travel">My Travel</a></li>
                <li><a href="#" class="navlink-airport">Airport &amp; Hotel Search</a></li>
                <li><a href="providefeedback.php" class="navlink-feedback">Feedback</a></li>
                <li><a href="#" class="navlink-hotel">Book a Hotel</a></li>
                <li><a href="changeprofile.php" class="navlink-profile">Your Profile</a></li>
                <li><a href="#" class="navlink-preferences">Preferences</a></li>
                <li><a href="#" class="navlink-logout">Logout</a></li>
              </ul>
            </div><!--/.nav-collapse -->
            <div class="header-login-container">
                <div class="clear"></div>
                <div class="login-container hidden-xs">
                    <p class="welcome">Welcome Lori DiMola</p>
                    <ul style="padding:0;margin:0;padding-left:10px;">
                        <li>
                            <a href="/main/login.aspx" class="acct no-drop">Your Account <img src="img/ya-arrow.png" width="8" height="10" alt=""/></a>
                            <!-- Your Account Dropdown -->
                            <ul class="acct-drop">
                                <li class="first"><a href="changeprofile.php" id="dd-your-profile">Your Profile</a></li>
                                <li><a href="#pref" id="dd-preferences">Preferences</a></li>
                                <li class="last"><a href="#logout" id="dd-logout">Logout</a></li>
                            </ul>
                        </li>
                        <li><a href="/main/create-account.aspx" class="pref no-drop">Preferences</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <nav class="nshadow hidden-xs">
        <div class="inner-container">
            <div class="item-1"><ul class="top-menu cpsys_BlockList cpntm_TopNav">
                <li><img src="img/nav-line.png" width="1" height="86" alt=""/><a href="#"><span class="n-icon"></span>Dashboard</a></li></ul></div>
            <div class="item-2"><ul class="top-menu cpsys_BlockList cpntm_TopNav">
                <li><img src="img/nav-line.png" width="1" height="86" alt=""/><a href="mytravel.php"><span class="n-icon"></span>My Travel</a></li></ul></div>
            <div class="item-3"><ul class="top-menu cpsys_BlockList cpntm_TopNav">
                <li><img src="img/nav-line.png" width="1" height="86" alt=""/><a href="#"><span class="n-icon"></span>Airport &amp; Hotel Search</a></li></ul></div>
            <div class="item-4"><ul class="top-menu cpsys_BlockList cpntm_TopNav">
                <li><img src="img/nav-line.png" width="1" height="86" alt=""/><a href="providefeedback.php"><span class="n-icon"></span>Feedback</a></li></ul></div>
            <div class="item-5"><ul class="top-menu cpsys_BlockList cpntm_TopNav"><li><img src="img/nav-line.png" width="1" height="86" alt=""/><a href="#"><span class="n-icon"></span>Book a Hotel</a><img src="img/nav-line.png" width="1" height="86" alt=""/></li></ul></div>
            <div class="clear"></div>
        </div>
    </nav>

    <div class="container white-container main-content">        <h1>Provide Feedback1</h1>
 
            <div class="input-group" style="padding:0;margin:0">
                <input name="cpsys_FormItem_Provide_Feedback_FirstName" type="text" value="API internal" id="cpsys_FormItem_Provide_Feedback_FirstName" class="form-control">
                <span class="input-group-btn" style="padding: 0px; margin: 0px;">
                    <button class="btn btn-secondary btn-search" type="button" data-toggle="modal" data-target="#searchUserModal" ng-click="search()">...</button>
                </span>
            </div>


        <form class="form-horizontal" role="form" id="changeprofile-form" name="changeprofile-form">

            <!--Modal window-->
            <div ng-app="searchUserApp" ng-controller="searchUserCtrl">
                <button id="btnSelectUser" type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#searchUserModal" ng-click="search()">Select User</button>
                <!-- Modal -->
                <div class="modal fade" id="searchUserModal" role="dialog">
                    <div class="modal-dialog">
                        <div class="modal-content">

                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">Select user on behalf of whom you are to submit a feedback.</h4>
                            </div>

                            <div class="modal-body">
                                <div class="input-group">
                                    <input type="text" onkeydown="if (event.keyCode == 13) event.preventDefault();" class="form-control" ng-keyup="$event.keyCode == 13 ? search() : null" placeholder="Search for user." ng-model="searchText" />
                                    <span class="input-group-btn">
                                        <button class="btn btn-secondary btn-search" type="button" ng-click="search()">Search</button>
                                    </span>
                                </div>
                                <br />
                                <div class="table-responsive">
                                    <table ng-table="tableParams" class='table table-hover table-striped feedback-table'>
                                        <thead>
                                            <tr>
                                                <th>Full Name</th>
                                                <th>Email</th>
                                                <th>Employee Id</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat='i in users'>
                                                <td><a href="" ng-click="selectItem($index)">{{ i.fullName }}</a></td>
                                                <td>{{ i.email }}</td>
                                                <td>{{ i.employeeId }}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <dir-pagination-controls></dir-pagination-controls>
                                </div>
                            </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            </div>

                        </div>
                    </div>
                </div>
                <!--End Modal Window-->
            </div>

            <div class="row">
                <div class="col-md-5">
                    <div class="form-group">
                        <label for="HotelName" class="col-xs-12 col-sm-4 col-md-4 control-label">* Hotel Name:</label>
                        <div class="col-xs-12 col-sm-8 col-md-8">
                            <select class="form-control" name="HotelName" id="HotelName">
                                <option selected>Select Hotel Name...</option>
                                <option>Data01</option>
                                <option>Data02</option>
                                <option>Data03</option>
                                <option>Data04</option>
                                <option>Data05</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="RoomNumber" class="col-xs-12 col-sm-4 col-md-4 control-label">* Room Number:</label>
                        <div class="col-xs-12 col-sm-8 col-md-8">
                            <input type="text" class="form-control" id="RoomNumber" name="RoomNumber" placeholder="" maxlength="100" value="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="Check-in" class="col-xs-12 col-sm-4 col-md-4 control-label">* Check-in:</label>
                        <div class="col-xs-12 col-sm-8 col-md-8">
                            <input type="text" class="form-control" id="Check-in" name="Check-in" placeholder="" maxlength="100" value="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="Check-out" class="col-xs-12 col-sm-4 col-md-4 control-label">* Check-out:</label>
                        <div class="col-xs-12 col-sm-8 col-md-8">
                            <input type="text" class="form-control" id="Check-out" name="Check-out" placeholder="" maxlength="100" value="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="ArrivalFlightNo" class="col-xs-12 col-sm-4 col-md-4 control-label">* Arrival Flight No.:</label>
                        <div class="col-xs-12 col-sm-8 col-md-8">
                            <input type="text" class="form-control" id="ArrivalFlightNo" name="ArrivalFlightNo" placeholder="" maxlength="100" value="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="DepartureFlightNo" class="col-xs-12 col-sm-4 col-md-4 control-label">* Departure Flight No.:</label>
                        <div class="col-xs-12 col-sm-8 col-md-8">
                            <input type="text" class="form-control" id="DepartureFlightNo" name="DepartureFlightNo" placeholder="" maxlength="100" value="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="firstname" class="col-xs-12 col-sm-4 col-md-4 control-label">* First Name:</label>
                        <div class="col-xs-12 col-sm-8 col-md-8">
                            <input type="text" class="form-control" id="firstname" name="firstname" placeholder="" maxlength="100" value="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="lastname" class="col-xs-12 col-sm-4 col-md-4 control-label">* Last Name:</label>
                        <div class="col-xs-12 col-sm-8 col-md-8">
                            <input type="text" class="form-control" id="lastname" name="lastname" placeholder="" maxlength="100" value="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="FeedbackType" class="col-xs-12 col-sm-4 col-md-4 control-label">* Feedback Type:</label>
                        <div class="col-xs-12 col-sm-8 col-md-8">
                            <input type="text" class="form-control" id="FeedbackType" name="FeedbackType" placeholder="" maxlength="100" value="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="Topic" class="col-xs-12 col-sm-4 col-md-4 control-label">* Topic:</label>
                        <div class="col-xs-12 col-sm-8 col-md-8">
                            <select class="form-control" name="Topic" id="Topic">
                                <option selected>Select Topic...</option>
                                <option>Data01</option>
                                <option>Data02</option>
                                <option>Data03</option>
                                <option>Data04</option>
                                <option>Data05</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="Priority" class="col-xs-12 col-sm-4 col-md-4 control-label">* Priority:</label>
                        <div class="col-xs-12 col-sm-8 col-md-8">
                            <select class="form-control" name="Priority" id="Priority">
                                <option selected>Select Priority...</option>
                                <option>Data01</option>
                                <option>Data02</option>
                                <option>Data03</option>
                                <option>Data04</option>
                                <option>Data05</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col-md-7">
                    <div class="form-group">
                	<label for="receiveresponse" class="col-sm-12">Do you want to receive a response from the committee on the issue?</label>
                        <div class="col-sm-12">
                            <label class="radio-inline">
                                    <input type="radio" name="receiveresponse" id="receiveresponse1" value="1" /> Yes
                            </label>
                            <label class="radio-inline">
                                    <input type="radio" name="receiveresponse" id="receiveresponse0" value="0" /> No
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                	<label for="broughtattn" class="col-sm-12">Did you bring this to the attention of the Hotel during the stay?</label>
                        <div class="col-sm-12">
                            <label class="radio-inline">
                                    <input type="radio" name="broughtattn" id="broughtattn1" value="1" /> Yes
                            </label>
                            <label class="radio-inline">
                                    <input type="radio" name="broughtattn" id="broughtattn0" value="0" /> No
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                	<label for="txtfilename" class="col-sm-4 control-label">Uploaded File:</label>
                        <div class="col-sm-8">
                            <div class="input-group">
                                <input class="form-control valid" id="txtfilename" name="txtfilename" placeholder="" value="SomeUploadedFile.docx" readonly type="text">
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button">Remove File</button>
                                </span>
                            </div>
                            <input class="file-form-control" name="filetempupload" id="filetempupload" type="file">
                            <p class="help-block">If you upload a new file, the old version will be deleted.</p>
                        </div>
                    </div>
                    <div class="form-group" id="txtnotes-formgroup">
                	<label for="comments" class="col-sm-4 control-label">Please Enter Your Comments:</label>
                        <div class="col-sm-8">
                            <textarea class="form-control" rows="4" id="comments" name="comments"></textarea>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
		<div class="col-sm-12 button-row">
                    <button type="submit" class="btn btn-primary btn-lg" id="savechanges" name="savechanges">Send Feedback</button>
                </div>
            </div>
        </form>
    </div><!-- /.container -->

    <footer class="footer">
        <div class="container white-container">
            <ul class="list-inline">
              <li><a href="#">User Guide</a></li>
              <li><a href="#" class="active">Copyright Info</a></li>
              <li><a href="#">Contact Us</a></li>
            </ul>
        </div>
    </footer>

      <script>

    var app = angular.module("searchUserApp", []);
    app.directive('preventEnter', function () {
        return {
            restrict: 'A',
            link: function(scope, element) {
                element.bind('keydown', function (event) {
                    if(event.keyCode == 13 && !event.shiftKey){
                        event.preventDefault();
                    }
                });
            }
        };
    })
    app.controller("searchUserCtrl", function ($scope) {
        $scope.users = [];
        $scope.selectItem = function (i) {
            var o = $scope.users[i];
            $("#firstname").val(o.firstName);
            $("#lastname").val(o.lastName);
            $('#searchUserModal').modal('hide');
        }
        $scope.search = function () {

        $.ajax({
            async: false,
            url: '/home/GetUserList',
            data: { searchStr: $scope.searchText, audienceId: 'cade10ba-90c3-43c5-aa26-75c7b724c1d6' },
            success: function (data) {
                $scope.users = eval(data);
            },
            statusCode: {
                404: function (content) { alert('cannot find resource'); },
                500: function (content) { alert('internal server error'); }
            },
            error: function (req, status, errorObj) {
                alert('An error occured during the request. ' + errorObj);
            }
        });

        return false;
        };
    });

      </script>
  </body>
</html>
